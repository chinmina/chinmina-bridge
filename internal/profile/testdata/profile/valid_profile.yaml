organization:
  profiles:
    # allow read access to a set of buildkite-plugins
    - name: "buildkite-plugin"
      # array of repos accessible to the profile
      repositories:
        - somewhat-private-buildkite-plugin
        - very-private-buildkite-plugin
      permissions: ["contents:read"]

    # allow package access to any repository
    - name: "package-registry"
    # '*' indicates all, when specified must be only value. No other wildcards supported.
      repositories: ["*"]
      permissions: ["packages:read"]

pipeline:
  # Optional: Configure default permissions for repo:default tokens
  # These permissions apply to pipeline-scoped (repo:*) profiles when no specific profile is requested.
  # If not specified, falls back to ["contents:read"] for backward compatibility.
  # Multiple permissions can be specified as a YAML array.
  defaults:
    permissions: ["contents:read", "pull_requests:write"]