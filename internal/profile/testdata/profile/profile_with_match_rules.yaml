organization:
  profiles:
    # Profile with exact match rule
    - name: "production-deploy"
      match:
        - claim: pipeline_slug
          value: "silk-prod"
      repositories: ["silk"]
      permissions: ["contents:write"]

    # Profile with regex pattern match
    - name: "staging-deploy"
      match:
        - claim: pipeline_slug
          valuePattern: "(silk|cotton)-(staging|stg)"
      repositories: ["silk", "cotton"]
      permissions: ["contents:write"]

    # Profile with multiple match rules (AND logic)
    - name: "production-silk-only"
      match:
        - claim: pipeline_slug
          valuePattern: "silk-.*"
        - claim: build_branch
          value: "main"
      repositories: ["silk"]
      permissions: ["contents:write"]

    # Profile with no match rules (available to all)
    - name: "shared-utilities-read"
      match: []
      repositories: ["shared-utilities"]
      permissions: ["contents:read"]
